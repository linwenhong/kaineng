webpackJsonp([12],{"nc5/":function(t,a){},wYG1:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={name:"Manufacturer",data:function(){return{tableOptions:[{key:"id",title:"ID"},{key:"name",title:"制造商名称"}],items:[],total:0,page:1,pageSize:this.$Config.page_size,condition:{},form:{},validate:null,isSubmit:!1}},methods:{getDataTables:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.items=[],this.total=0;var e={page:a,per_number:this.pageSize};for(var i in this.condition)this.condition[i]&&(e[i]=this.condition[i]);this.$Service.Manufacturer.get(e).then(function(a){200==a.code?(t.items=a.data,t.total=a.total,t.$nextTick(function(){return t.$H5UI.iCheck()})):toastr.error(a.msg)})},pageChange:function(t){this.getDataTables(t)},clear:function(){this.$H5UI.reset(this.validate),this.form={},this.isSubmit=!1,$("#Modal").modal("hide")},add:function(){this.clear()},checkForm:function(t){return!0},submit:function(){var t=this;if(!this.isSubmit&&$("#form").valid()&&this.checkForm(this.form)){this.isSubmit=!0,console.log(this.form);var a={name:this.form.name};if(this.form.id){var e=this.form.id;this.$Service.Manufacturer.edit(e,a).then(function(a){t.isSubmit=!1,200==a.code?(toastr.success("新增成功"),t.getDataTables(t.page)):toastr.error(a.msg)})}else this.$Service.Manufacturer.add(a).then(function(a){t.isSubmit=!1,200==a.code?(toastr.success("修改成功"),t.getDataTables()):toastr.error(a.msg)})}},edit:function(t){this.clear(),this.form={id:t.id,name:t.name}},del:function(t){var a=this;this.$Service.Manufacturer.del(t.id).then(function(t){200==t.code?(toastr.success("删除成功"),a.getDataTables()):toastr.error(t.msg)})}},created:function(){this.getDataTables()},mounted:function(){this.validate=this.$H5UI.validate("#form")}},s={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"wrapper wrapper-content"},[e("page-header-button",{on:{add:t.add}}),t._v(" "),e("div",{staticClass:"ibox float-e-margins"},[t._m(0),t._v(" "),e("div",{staticClass:"ibox-content"},[e("div",{staticClass:"search-page"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"control-label"},[t._v("制造商名称")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.condition.name,expression:"condition['name']",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.condition.name},on:{input:function(a){a.target.composing||t.$set(t.condition,"name",a.target.value.trim())},blur:function(a){t.$forceUpdate()}}}),t._v(" "),e("button",{staticClass:"btn btn-primary search",attrs:{type:"button"},on:{click:function(a){t.getDataTables()}}},[t._v("查询")])])]),t._v(" "),e("table",{staticClass:"table table-bordered text-center"},[e("thead",[e("tr",[t._l(t.tableOptions,function(a){return e("th",[t._v(t._s(a.title))])}),t._v(" "),e("th",[t._v("操作")])],2)]),t._v(" "),e("tbody",t._l(t.items,function(a,i){return e("tr",{key:a.id},[t._l(t.tableOptions,function(i){return e("td",[t._v(t._s(a[i.key]))])}),t._v(" "),e("td",[e("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#Modal"},on:{click:function(e){t.edit(a)}}},[t._v("编辑")]),t._v(" "),e("info-confirm",{attrs:{data:a},on:{confirm:t.del}})],1)],2)}))]),t._v(" "),e("vue-pagination",{attrs:{"current-page":t.page,total:t.total,"page-size":t.pageSize,theme:"gray"},on:{"current-change":t.pageChange}})],1)]),t._v(" "),e("div",{staticClass:"modal inmodal fade",attrs:{id:"Modal",tabindex:"-1",role:"dialog","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-md"},[e("div",{staticClass:"modal-content"},[e("div",{staticClass:"modal-header"},[t._m(1),t._v(" "),e("h4",{staticClass:"modal-title"},[t._v(t._s(t.form.id?"修改制造商信息":"新增制造商"))])]),t._v(" "),e("form",{staticClass:"form-horizontal",attrs:{id:"form"},on:{submit:function(a){return a.preventDefault(),t.submit(a)}}},[e("div",{staticClass:"modal-body"},[e("div",{staticClass:"row"},[e("div",{staticClass:"form-group"},[e("label",{staticClass:"col-sm-3 control-label"},[t._v("制造商名称")]),t._v(" "),e("div",{staticClass:"col-sm-8"},[e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.form.name,expression:"form.name",modifiers:{trim:!0}}],staticClass:"form-control",attrs:{type:"text",required:"","aria-required":"true",name:"name"},domProps:{value:t.form.name},on:{input:function(a){a.target.composing||t.$set(t.form,"name",a.target.value.trim())},blur:function(a){t.$forceUpdate()}}})])])])]),t._v(" "),t._m(2)])])])])],1)},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"ibox-title"},[a("h5",[this._v("制造商管理")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal"}},[a("span",{attrs:{"aria-hidden":"true"}},[this._v("×")]),a("span",{staticClass:"sr-only"},[this._v("Close")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"modal-footer"},[a("b",{staticClass:"btn btn-white",attrs:{"data-dismiss":"modal"}},[this._v("关闭")]),this._v(" "),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("提交")])])}]};var n=e("VU/8")(i,s,!1,function(t){e("nc5/")},"data-v-30e23ac5",null);a.default=n.exports}});
webpackJsonp([27],{0:function(e,t){},"9+VK":function(e,t,n){"use strict";var r=n("mvHQ"),o=n.n(r),a=n("pFYg"),i=n.n(a);t.a={setCache:function(e,t){console.log(void 0===t?"undefined":i()(t)),localStorage.setItem(e,o()(t))},getCache:function(e){return JSON.parse(localStorage.getItem(e))},setSessionStorage:function(e,t){sessionStorage.setItem(e,o()(t))},getSessionStorage:function(e){return JSON.parse(sessionStorage.getItem(e))}}},BHhu:function(e,t){var n={page_size:10,img_url:"http://api.parks8.com/fileService/image/product/",api_url:"http://api.parks8.com/",merchant_version:"v1.0",admin_version:"v1.0",base_url:"http://localhost:8086/"};e.exports=n},BXxX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("BHhu"),o=n.n(r),a=n("zdH1"),i="platform/"+o.a.merchant_version+"/",c="maintenance/"+o.a.admin_version+"/";function u(e,t){return a.a.get(e,t).then(function(e){return e})}function s(e,t){return a.a.post(e,t).then(function(e){return e})}function l(e,t){return a.a.put(e,t).then(function(e){return e})}function d(e,t){return a.a.patch(e,t).then(function(e){return e})}function p(e,t){return a.a.del(e,t).then(function(e){return e})}function h(e){return{get:function(t){return u(e,t)},details:function(t){return u(e,t)},add:function(t){return s(e,t)},edit:function(t){return l(e,t)},del:function(t){return p(e,t)}}}var m=h(i+"sub_device"),f=h(i+"product"),v=h(i+"categories");v.batchEdit=function(e){return l(i+"categoriesList",e)};var g=h(i+"productPrice"),y=h(i+"device/channel");y.enable=function(e){return d(i+"device/channel",e)};var b=h(i+"replenishOrder");b.details=function(e){return u(i+"replenishOrder/details",e)},b.detailsAdd=function(e){return s(i+"replenishOrder/details",e)},b.edit=function(e){return l(i+"replenishOrder/details",e)},b.cancel=function(e){return d(i+"replenishOrder",e)};var C=h(i+"merchant");C.get=function(e){return u(c+"merchantList",e)};var k=h(i+"regions"),w=h(i+"paymentOrder");w.details=function(e){return u(i+"paymentOrder/details",e)};var S=h(i+"settledOrder"),_=h("settlement_logs"),O=h(i+"user");O.editPassword=function(e){return d(i+"user",e)};var x={login:function(e){return s(i+"auth",e)},logout:function(e){return p(i+"auth",e)},qrCode:function(e){return u(i+"auth/bind/qrCode",e)},loginCode:function(e){return u(i+"auth/login/qrCode",e)},codeLogin:function(e){return u(i+"auth",e)},untying:function(e){return d(i+"auth",e)}},$={get:function(e){return u(i+"devices",e)},edit:function(e){return d(i+"devices",e)}},D={login:function(e){return s(c+"auth",e)},logout:function(e){return p(c+"auth",e)},qrCode:function(e){return u(c+"auth/bind/qrCode",e)},loginCode:function(e){return u(c+"auth/login/qrCode",e)},codeLogin:function(e){return u(c+"auth",e)},untying:function(e){return d(c+"auth",e)}},M=h(c+"user");M.editPassword=function(e){return d(c+"user",e)};var A=h(c+"settledOrder");A.settlement=function(e){return d(c+"settledOrder",e)},A.details=function(e){return u(c+"paymentOrder",e)};var T={get:function(e){return u(c+"devices",e)}},U=h(c+"manufacturer");t.default={SubDevice:m,Good:f,GoodType:v,GoodPrice:g,GoodUpperShelf:y,ReplenishOrder:b,Merchant:C,MerchantRegions:k,Order:w,SettlementOrder:S,SettlementLogs:_,User:O,Auth:x,Device:$,AdminAuth:D,AdminUser:M,AdminSettlementOrder:A,MerchantDevice:T,Manufacturer:U}},FmBh:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("7+uW"),o=n("8+8L"),a=n("BHR/"),i=n.n(a),c=n("95YI"),u=n.n(c),s={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var l=n("VU/8")({name:"App"},s,!1,function(e){n("FmBh")},null,null).exports,d=n("YaEn"),p=n("wy+4");var h={ReplenishOrderStatus:function(e){var t="";switch(Number(e)){case 1:t="未完成";break;case 2:t="已完成";break;case 3:t="已取消";break;case 4:t="所有订单";break;default:t="其他"}return t},ReplenishOrderType:function(e){var t="";switch(Number(e)){case 1:t="服务器下单";break;case 2:t="售货机下单";break;default:t="其他"}return t},OrderStatus:function(e){var t="";switch(Number(e)){case 1:t="未完成";break;case 2:t="已完成";break;default:t="其他"}return t},OrderSettlementStatus:function(e){var t="";switch(Number(e)){case 1:t="未结算";break;case 2:t="已结算";break;default:t="其他"}return t},OrderGoodOutStatus:function(e){var t="";switch(Number(e)){case 1:t="初始状态";break;case 2:t="出货完成";break;case 3:t="出货失败";break;default:t="其他"}return t},PayType:function(e){var t="";switch(Number(e)){case 1:t="微信";break;case 2:t="支付宝";break;case 3:t="银行卡";break;case 4:t="现金支付";break;default:t="其他"}return t},PassagewayFault:function(e){var t="";switch(Number(e)){case 1:t="无故障";break;default:t="有故障"}return t},PassagewayMergeStatus:function(e){var t="";switch(Number(e)){case 1:t="未合并";break;case 2:t="合并";break;case 3:t="被合并";break;default:t="其他"}return t},PassagewayUsed:function(e){var t="";switch(Number(e)){case 1:t="未启用";break;case 2:t="已启用";break;default:t="其他"}return t}},m={name:"date-time",props:{text:{type:String,default:""}},data:function(){return{}},methods:{}},f={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{display:"inline-block"}},[t("label",{staticClass:"control-label"},[this._v(this._s(this.text))]),this._v(" "),t("input",{directives:[{name:"my-start-time",rawName:"v-my-start-time"}],staticClass:"form-control layer-date",attrs:{readonly:"",id:"startTime",placeholder:"开始时间"}}),this._v(" "),t("input",{directives:[{name:"my-end-time",rawName:"v-my-end-time"}],staticClass:"form-control layer-date",attrs:{readonly:"",id:"endTime",placeholder:"结束时间"}})])},staticRenderFns:[]},v=n("VU/8")(m,f,!1,null,null,null).exports,g={name:"info-confirm",props:{data:{type:Object,default:{}},type:{type:String,default:"danger"},text:{type:String,default:"删除"},title:{type:String,default:"确定删除吗?"},enlarge:{type:Boolean,default:!1}},data:function(){return{}},methods:{confirm:function(){var e=this,t={title:this.title,type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"确定",cancelButtonText:"取消",closeOnConfirm:!0};swal(t,function(){$(".sweet-overlay").remove(),$(".sweet-alert").remove(),e.$emit("confirm",e.data,"确认")})}}},y={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("button",{staticClass:"btn",class:[e.enlarge?"":"btn-sm","btn-"+e.type],attrs:{type:"button"},on:{click:function(t){e.confirm()}}},[e._v(e._s(e.text?e.text:"删除"))])},staticRenderFns:[]},b=n("VU/8")(g,y,!1,null,null,null).exports,C={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text-right"},[n("button",{directives:[{name:"my-refresh",rawName:"v-my-refresh"}],staticClass:"btn btn-info",attrs:{type:"button"}},[e._v("刷新")]),e._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button","data-toggle":"modal","data-target":"#Modal"},on:{click:function(t){e.add()}}},[e._v("新增")])])},staticRenderFns:[]},k=n("VU/8")({name:"page-header-button",props:{},data:function(){return{}},mounted:function(){},methods:{add:function(){this.$emit("add","add()")}}},C,!1,null,null,null).exports,w={name:"info-confirm",props:{id:{type:String,default:"searchSelect"},data:{type:Array,default:[]},keys:{type:Array,default:function(){return["id","name"]}},valueKey:{type:String,default:"id"},textKey:{type:String,default:"name"}},data:function(){return{}},methods:{},mounted:function(){this.$H5UI.setSearchSelect(this.data,$("#"+this.id),this.keys,this.valueKey,this.textKey)}},S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group searchSelect"},[t("input",{staticClass:"form-control",attrs:{type:"text",id:this.id}}),this._v(" "),this._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"input-group-btn"},[t("button",{staticClass:"btn btn-white dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown"}},[t("span",{staticClass:"caret"})]),this._v(" "),t("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{role:"menu"}})])}]},_=n("VU/8")(w,S,!1,null,null,null).exports;for(var O in r.a.config.productionTip=!1,r.a.use(o.a),r.a.use(i.a),r.a.component("v-distpicker",u.a),r.a.use(function(e){e.directive("my-refresh",{bind:function(e){e.onclick=function(){d.a.go(0)}}}),e.directive("my-start-time",{bind:function(e){e.onclick=function(){var e={elem:"#startTime"};e.max=$("#endTime").val()?new Date(new Date($("#endTime").val()).getTime()-864e5).toLocaleDateString():(new Date).toLocaleDateString(),laydate(e)}}}),e.directive("my-end-time",{bind:function(e){e.onclick=function(){var e={elem:"#endTime",max:new Date((new Date).getTime()+864e5).toLocaleDateString()};$("#startTime").val()&&(e.min=new Date(new Date($("#startTime").val()).getTime()+864e5).toLocaleDateString()),laydate(e)}}})}),r.a.component("date-time",v),r.a.component("info-confirm",b),r.a.component("page-header-button",k),r.a.component("search-select",_),r.a.component("treeselect",VueTreeselect.Treeselect),h)r.a.filter(O,h[O]);r.a.prototype.$Service=n("BXxX").default,r.a.prototype.$Config=n("BHhu"),r.a.prototype.$H5UI=n("zWQH"),r.a.prototype.$Method=n("qUWY"),new r.a({el:"#app",router:d.a,store:p.a,components:{App:l},template:"<App/>"})},YaEn:function(e,t,n){"use strict";var r=n("7+uW"),o=n("/ocq"),a={AdminLoginComponent:function(e){return n.e(15).then(function(){var t=[n("FCYl")];e.apply(null,t)}.bind(this)).catch(n.oe)},LoginComponent:function(e){return n.e(9).then(function(){var t=[n("KoTh")];e.apply(null,t)}.bind(this)).catch(n.oe)},RegisterComponent:function(e){return n.e(12).then(function(){var t=[n("uuoo")];e.apply(null,t)}.bind(this)).catch(n.oe)},ModifyPasswordComponent:function(e){return n.e(21).then(function(){var t=[n("vemE")];e.apply(null,t)}.bind(this)).catch(n.oe)},IndexComponent:function(e){return n.e(25).then(function(){var t=[n("PXCP")];e.apply(null,t)}.bind(this)).catch(n.oe)},BindingComponent:function(e){return n.e(2).then(function(){var t=[n("ML2d")];e.apply(null,t)}.bind(this)).catch(n.oe)},UserComponent:function(e){return n.e(16).then(function(){var t=[n("EZQ+")];e.apply(null,t)}.bind(this)).catch(n.oe)},UserDetailsComponent:function(e){return n.e(19).then(function(){var t=[n("VE5e")];e.apply(null,t)}.bind(this)).catch(n.oe)},DeviceComponent:function(e){return n.e(10).then(function(){var t=[n("WnIZ")];e.apply(null,t)}.bind(this)).catch(n.oe)},DeviceMonitoringComponent:function(e){return n.e(23).then(function(){var t=[n("ZKg8")];e.apply(null,t)}.bind(this)).catch(n.oe)},ManufacturerComponent:function(e){return n.e(4).then(function(){var t=[n("wYG1")];e.apply(null,t)}.bind(this)).catch(n.oe)},GoodComponent:function(e){return n.e(24).then(function(){var t=[n("mK2Z")];e.apply(null,t)}.bind(this)).catch(n.oe)},GoodPriceComponent:function(e){return n.e(0).then(function(){var t=[n("UyY9")];e.apply(null,t)}.bind(this)).catch(n.oe)},GoodTypeComponent:function(e){return n.e(14).then(function(){var t=[n("s33o")];e.apply(null,t)}.bind(this)).catch(n.oe)},GoodTypeTreeComponent:function(e){return n.e(18).then(function(){var t=[n("9xLM")];e.apply(null,t)}.bind(this)).catch(n.oe)},GoodUpperShelfComponent:function(e){return n.e(11).then(function(){var t=[n("DFio")];e.apply(null,t)}.bind(this)).catch(n.oe)},ReplenishOrderComponent:function(e){return n.e(1).then(function(){var t=[n("tdCf")];e.apply(null,t)}.bind(this)).catch(n.oe)},MerchantDetailsComponent:function(e){return n.e(20).then(function(){var t=[n("fZPx")];e.apply(null,t)}.bind(this)).catch(n.oe)},MerchantRegionsComponent:function(e){return n.e(8).then(function(){var t=[n("vr3n")];e.apply(null,t)}.bind(this)).catch(n.oe)},OrderComponent:function(e){return n.e(7).then(function(){var t=[n("3J/j")];e.apply(null,t)}.bind(this)).catch(n.oe)},OrderSettlementComponent:function(e){return n.e(3).then(function(){var t=[n("ty4A")];e.apply(null,t)}.bind(this)).catch(n.oe)},OrderSettlementLogsComponent:function(e){return n.e(13).then(function(){var t=[n("D1fE")];e.apply(null,t)}.bind(this)).catch(n.oe)},AdminUserComponent:function(e){return n.e(5).then(function(){var t=[n("cGx0")];e.apply(null,t)}.bind(this)).catch(n.oe)},MerchantComponent:function(e){return n.e(6).then(function(){var t=[n("wpu7")];e.apply(null,t)}.bind(this)).catch(n.oe)},AdminDeviceComponent:function(e){return n.e(22).then(function(){var t=[n("34G/")];e.apply(null,t)}.bind(this)).catch(n.oe)},AdminOrderSettlementComponent:function(e){return n.e(17).then(function(){var t=[n("qiyf")];e.apply(null,t)}.bind(this)).catch(n.oe)}},i=n("wy+4");r.a.use(o.a);var c=new o.a({routes:[{path:"/",redirect:"/login"},{path:"/merchant",component:a.IndexComponent,children:[{path:"/",redirect:"/merchant/user"},{path:"role",name:"role",component:a.RoleComponent},{path:"roleDetails/:id",name:"role",component:a.RoleDetailsComponent},{path:"binding",name:"user",component:a.BindingComponent},{path:"admin-user",name:"user",component:a.AdminUserComponent},{path:"user",name:"user",component:a.UserComponent},{path:"user/:id",component:a.UserDetailsComponent},{path:"device",name:"user",component:a.DeviceComponent},{path:"device-monitoring",name:"user",component:a.DeviceMonitoringComponent},{path:"good",name:"user",component:a.GoodComponent},{path:"good-price",name:"user",component:a.GoodPriceComponent},{path:"good-type",name:"user",component:a.GoodTypeComponent},{path:"good-type-tree",name:"user",component:a.GoodTypeTreeComponent},{path:"good-upper-shelf",name:"user",component:a.GoodUpperShelfComponent},{path:"replenish-order",name:"user",component:a.ReplenishOrderComponent},{path:"merchant-details",name:"user",component:a.MerchantDetailsComponent},{path:"merchant-regions",name:"user",component:a.MerchantRegionsComponent},{path:"order",name:"user",component:a.OrderComponent},{path:"order-settlement",name:"user",component:a.OrderSettlementComponent},{path:"order-settlement-logs",name:"user",component:a.OrderSettlementLogsComponent}]},{path:"/admin",component:a.IndexComponent,children:[{path:"/",redirect:"/admin/user"},{path:"user",name:"user",component:a.AdminUserComponent},{path:"merchant",name:"user",component:a.MerchantComponent},{path:"device",name:"user",component:a.AdminDeviceComponent},{path:"manufacturer",name:"user",component:a.ManufacturerComponent},{path:"order-settlement",name:"user",component:a.AdminOrderSettlementComponent}]},{path:"/admin-login",component:a.AdminLoginComponent},{path:"/login",component:a.LoginComponent},{path:"/register",component:a.RegisterComponent},{path:"/modifyPassword",component:a.ModifyPasswordComponent},{path:"/editUserPassword/:id",component:a.ModifyPasswordComponent}]});c.beforeEach(function(e,t,n){console.log(e);var r=i.a.getters.getUser;console.log(r),"/login"==e.path||"/register"==e.path?n():r?n():n("/login")});t.a=c},qUWY:function(e,t,n){"use strict";e.exports={formatDate:function(e,t){return function(e,t){var n=new Date(e),r=function(e){return(e<10?"0":"")+e};return t.replace(/yyyy|MM|dd|hh|mm|ss/g,function(e){switch(e){case"yyyy":return r(n.getFullYear());case"MM":return r(n.getMonth()+1);case"dd":return r(n.getDate());case"hh":return r(n.getHours());case"mm":return r(n.getMinutes());case"ss":return r(n.getSeconds())}})}(e,t)},arrayToTree:function(e){return function(e){var t=[];if(!Array.isArray(e))return t;e.forEach(function(e){delete e.children});var n={};return e.forEach(function(e){n[e.id]=e}),e.forEach(function(e){var r=n[e.parent_id];r?(r.children||(r.children=[])).push(e):t.push(e)}),t}(e)},treeToArray:function(e){return function e(t){var n=[];if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)n.push(t[r]),Array.isArray(t[r].children)&&t[r].children.length>0&&t[r].children.map(function(e){return e.parent_id=t[r].id}),n=n.concat(e(t[r].children)),delete t[r].children;return n}(e)},getTreeSelectOption:function(e,t){return function(e){var t=[];if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]||t.push({id:0,label:"无父级"}),!Array.isArray(e))return t;var n=e.map(function(e){return{id:e.id,parent_id:e.parent_id,label:e.name}}),r={};return n.forEach(function(e){r[e.id]=e}),n.forEach(function(e){var n=r[e.parent_id];n?(n.children||(n.children=[])).push(e):t.push(e)}),t}(e,t)}}},"wy+4":function(e,t,n){"use strict";var r=n("7+uW"),o=n("NYxO"),a=n("mtWM"),i=n.n(a),c=n("YaEn"),u=n("9+VK");r.a.use(o.a);var s=new o.a.Store({strict:!1,state:{user:u.a.getCache("user")||{},identity:u.a.getCache("identity")||1},mutations:{setUser:function(e,t){e.user=t,i.a.defaults.headers.common.token=e.user.token,u.a.setCache("user",t)},setIdentity:function(e,t){e.identity=t,u.a.setCache("identity",t)},clearCache:function(e){e.user={},e.identity=1,localStorage.clear()}},actions:{login:function(e,t){var n=e.commit,r=e.state;n("setUser",t),1==r.identity?c.a.push("/merchant"):c.a.push("/admin")},logout:function(e){var t=e.commit,n=e.state;1==n.identity?c.a.push("/login"):c.a.push("/admin-login"),t("clearCache",n)},identity:function(e,t){(0,e.commit)("setIdentity",t)}},getters:{getUser:function(e){return e.user},getIdentity:function(e){return e.identity}}});t.a=s},zWQH:function(e,t,n){"use strict";function r(){$(".checkbox input").each(function(){this.checked=!1}),$(".checkbox .checked").removeClass("checked")}function o(){$(".radio .checked").removeClass("checked")}e.exports={iCheck:function(e){!function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e)var t=setInterval(function(){if($(e).length>0)return $(".i-checks").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"}),void clearInterval(t)},20);else $(".i-checks").iCheck({checkboxClass:"icheckbox_square-green",radioClass:"iradio_square-green"})}(e)},clearCheckBox:function(){r()},clearRadio:function(){o()},getChecked:function(e){return function(e){var t=[];return $(".checkbox .checked input[name="+e+"]").each(function(){t.push($(this).val())}),t}(e)},getRadioVal:function(e){return function(e){return $(".radio .checked input[name="+e+"]").attr("value")}(e)},setRadioVal:function(e,t){!function(e,t){$(".radio input[name="+e+'][value="'+t+'"]').parent().addClass("checked"),$(".radio input[name="+e+'][value="'+t+'"]').prop("checked","checked")}(e,t)},validate:function(e){return $(e).validate()},reset:function(e){!function(e,t){e.resetForm(),$(".form-group").removeClass("has-success"),$(".form-group").removeClass("has-error"),t&&(r(),o())}(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])},setSearchSelect:function(e,t){!function(e,t,n,r,o){var a;a=e.map(function(e,t){var r={};return n.map(function(t){r[t]=e[t]}),r}),$(t).bsSuggest({idField:r,keyField:o,data:{value:a}})}(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:["id","name"],arguments.length>3&&void 0!==arguments[3]?arguments[3]:"id",arguments.length>4&&void 0!==arguments[4]?arguments[4]:"name")},setImgBase:function(e,t){!function(e,t){var n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=function(){$(t).attr("src",this.result)}}(e,t)}}},zdH1:function(e,t,n){"use strict";var r=n("mtWM"),o=n.n(r),a=n("BHhu"),i=n.n(a),c=n("wy+4");function u(e){console.log(e),toastr.error("接口数据未能成功返回","请求异常")}o.a.defaults.baseURL=i.a.api_url,o.a.defaults.timeout=1e4,o.a.defaults.headers.common.token=c.a.state.user.token;var s=!0;function l(){s&&(s=!1,setTimeout(function(){s=!0,window.location.href=i.a.base_url},2e3))}t.a={get:function(e,t){return o.a.get(e,{params:t}).then(function(e){return 401==e.data.status&&l(),e.data}).catch(function(e){return u(e)})},post:function(e,t){return o.a.post(e,t).then(function(e){return 401==e.data.status&&l(),e.data}).catch(function(e){return u(e)})},put:function(e,t){return o.a.put(e,t).then(function(e){return 401==e.data.status&&l(),e.data}).catch(function(e){return u(e)})},del:function(e,t){return t&&(e+=function(e){var t="?",n=!0;for(var r in e)n?(n=!1,t+=r+"="+e[r]):t+="&"+r+"="+e[r];return t}(t)),o.a.delete(e).then(function(e){return 401==e.data.status&&l(),e.data}).catch(function(e){return u(e)})},patch:function(e,t){return o.a.patch(e,t).then(function(e){return 401==e.data.status&&l(),e.data}).catch(function(e){return u(e)})}}}},["NHnr"]);